(function(root,factory){if(typeof module==="object"&&typeof module.exports==="object"){module.exports=factory()}else if(typeof define==="function"&&define.amd){define(factory)}else{root.DocsifyImageSize=factory()}})(typeof self!=="undefined"?self:this,function(){"use strict";function imageSizeFixPlugin(hook,vm){hook.doneEach(function(){var container=document.querySelector(".markdown-section");if(!container)return;var imgs=container.querySelectorAll("img[title]");Array.prototype.forEach.call(imgs,function(img){var title=img.getAttribute("title")||"";var idx=title.indexOf(":size=");if(idx===-1)return;var sizePart=title.slice(idx+6).trim();if(!sizePart)return;var cleanTitle=title.slice(0,idx).trim();if(cleanTitle){img.setAttribute("title",cleanTitle)}else{img.removeAttribute("title")}img.removeAttribute("width");img.removeAttribute("height");if(sizePart.indexOf("%")!==-1){var pm=sizePart.match(/^(\d+(?:\.\d+)?)\s*%$/);if(pm){img.style.width=pm[1]+"%";img.style.height="auto"}return}if(/^\d+$/.test(sizePart)){var wOnly=parseInt(sizePart,10);if(!isNaN(wOnly)){img.style.width=wOnly+"px";img.style.height="auto"}return}var parts=sizePart.split(/x/i);if(parts.length>=1){var rawW=(parts[0]||"").trim();var rawH=(parts[1]||"").trim();var w=rawW?parseInt(rawW,10):NaN;var h=rawH?parseInt(rawH,10):NaN;var hasW=!isNaN(w);var hasH=!isNaN(h);if(hasW&&!hasH){img.style.width=w+"px";img.style.height="auto";return}if(!hasW&&hasH){img.style.height=h+"px";img.style.width="auto";return}if(hasW&&hasH){img.style.width=w+"px";img.style.height=h+"px";return}}})})}if(typeof window!=="undefined"&&window.$docsify){window.$docsify.plugins=(window.$docsify.plugins||[]).concat(imageSizeFixPlugin)}return imageSizeFixPlugin});